<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <title>Maç Yayınları</title>
    <link rel="stylesheet" href="styles.css">
    <script>
        async function fetchChannels() {
            const response = await fetch('mac.php');
            const channels = await response.json();

            const channelList = document.querySelector('.channel-list');
            channels.forEach(channel => {
                const li = document.createElement('li');
                li.classList.add('channel-item');
                li.onclick = () => changeChannel(atob(channel.url)); // URL'yi çöz ve yayın aç
                li.innerHTML = `
                    <span class="status">${channel.status}</span>
                    <span class="channel-name">${channel.name}</span>
                    <span class="date">${channel.date}</span>
                `;
                channelList.appendChild(li);
            });
        }

        function changeChannel(url) {
            console.log("Yayın açılıyor: " + url);
            // Burada yayın açma işlemini yapabilirsin
        }

        // Sayfa yüklendiğinde kanalları çek
        window.onload = fetchChannels;
    </script>
</head>
<body>

    <div class="channel-container">
        <h2>Günün Maçı</h2>
        <ul class="channel-list"></ul>
    </div>

    <div class="flex-row">
        <div class="sub-channel-container">
            <h2>BeinSports</h2>
            <ul class="channel-list"></ul>
        </div>

        <div class="sub-channel-container">
            <h2>S-Sport</h2>
            <ul class="channel-list"></ul>
        </div>
    </div>

</body>
</html>
